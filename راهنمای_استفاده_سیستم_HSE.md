# راهنمای کامل سیستم فرم‌های HSE

## 📋 معرفی سیستم

سیستم مدیریت فرم‌های ایمنی، بهداشت و محیط زیست (HSE) یک پلتفرم تحت وب است که امکان ثبت، پیگیری و مدیریت فرآیندهای HSE را فراهم می‌کند.

## 🚀 نحوه راه‌اندازی و استفاده

### مرحله 1: راه‌اندازی سیستم

#### راه‌اندازی Backend (سرور Django):
```bash
cd backend
.\venv\Scripts\activate
pip install -r requirements.txt
python manage.py migrate
python manage.py createsuperuser
python manage.py seed_demo
python manage.py runserver
```

#### راه‌اندازی Frontend (رابط کاربری):
```bash
npm install
npm run dev
```

### مرحله 2: ورود به سیستم

1. به آدرس `http://localhost:3000` بروید
2. روی "ورود" کلیک کنید
3. از اطلاعات زیر استفاده کنید:
   - **نام کاربری:** `admin`
   - **رمز عبور:** `admin123`

## 📝 فرم‌های موجود در سیستم

### 1️⃣ FR-01-01: اقدام اصلاحی

**هدف:** ثبت اقدامات اصلاحی برای رفع مشکلات ایمنی

**بخش‌های فرم:**
- **اطلاعات کلی:**
  - پروژه: انتخاب از AS (Acid Sarcheshmeh) یا NP (Negin Pars)
  - نوع درخواست: اقدام اصلاحی، اقدام پیشگیرانه، تغییرات، پیشنهاد بهبود
  - منبع اقدام: ممیزی، انطباق با قوانین، حوادث، شبه‌حوادث، و غیره

- **شرح اقدام:**
  - موضوع اقدام: مثلاً "نصب گارد ایمنی روی دستگاه برش"
  - شرح کامل: توضیح دقیق مشکل و راه‌حل پیشنهادی
  - علت ریشه‌ای: مثلاً "عدم وجود گارد ایمنی"

- **مسئولیت‌ها:**
  - مسئول اجرا: نام فرد مسئول
  - مسئول پیگیری: نام ناظر
  - تاریخ هدف: زمان تکمیل اقدام

**مثال عملی:**
- پروژه: NP
- نوع درخواست: اقدام اصلاحی
- منبع: حوادث
- موضوع: "نصب گارد ایمنی"
- شرح: "دستگاه برش فاقد گارد ایمنی است و خطر بریدگی وجود دارد"
- مسئول اجرا: "علی احمدی"
- تاریخ هدف: "1403/02/15"

### 2️⃣ FR-01-02: پیگیری اقدام اصلاحی

**هدف:** پیگیری وضعیت اجرای اقدامات اصلاحی

**بخش‌های فرم:**
- **انتخاب اقدام:**
  - شماره اقدام: انتخاب از لیست اقدامات ثبت شده
  - وضعیت اجرا: در حال اجرا، تکمیل شده، متوقف شده

- **گزارش اجرا:**
  - درصد پیشرفت: 0-100
  - شرح اقدامات انجام شده: توضیح کارهای انجام شده
  - موانع: مشکلات پیش آمده

- **تأیید اثربخشی:**
  - آیا اقدام مؤثر بوده: بله/خیر
  - شرح اثربخشی: توضیح نتایج

**مثال عملی:**
- شماره اقدام: AS-25-001
- وضعیت: در حال اجرا
- درصد پیشرفت: 75%
- شرح: "گارد ایمنی نصب شد، تست اولیه انجام شد"
- موانع: "تأخیر در تأمین قطعات"

### 3️⃣ FR-01-03: ثبت و پیگیری تغییرات

**هدف:** ثبت تغییرات انجام شده در فرآیندها

**بخش‌های فرم:**
- **اطلاعات تغییر:**
  - اقدام مرتبط: انتخاب از لیست اقدامات
  - موضوع تغییر: مثلاً "تغییر در روش کار با دستگاه"
  - تاریخ ثبت: تاریخ ثبت تغییر
  - تاریخ اجرا: تاریخ اعمال تغییر

- **مسئولیت‌ها:**
  - مسئول تغییر: نام فرد مسئول
  - اقدامات مورد نیاز: لیست اقدامات لازم

**مثال عملی:**
- اقدام مرتبط: AS-25-001
- موضوع: "تغییر در روش کار با دستگاه برش"
- مسئول: "محمد رضایی"
- اقدامات: "آموزش پرسنل، نصب علائم هشدار"

### 4️⃣ FR-01-10: TBM - آموزش حین کار

**هدف:** ثبت جلسات آموزش ایمنی و آموزش‌های حین کار

**بخش‌های فرم:**
- **اطلاعات کلی:**
  - پروژه: انتخاب از AS یا NP
  - شماره TBM: مثلاً "TBM-1403-027"
  - پروژه/محل: "کارگاه برش‌کاری"
  - تاریخ: تاریخ برگزاری جلسه
  - موضوع/سرفصل: "ایمنی کار در ارتفاع"
  - مدرس/مسئول: "کارشناس HSE"

- **حاضرین:**
  - نام و سمت: "علی احمدی - اپراتور"
  - امضاء: امضای حاضر

- **یادداشت‌ها:**
  - توضیحات تکمیلی و ضمائم

**مثال عملی:**
- پروژه: NP
- شماره TBM: TBM-1403-028
- موضوع: "ایمنی کار با ماشین‌آلات"
- مدرس: "سارا مرادی - کارشناس HSE"
- حاضرین: "5 نفر از اپراتورها"

### 5️⃣ FR-01-12: تشکیل تیم همیاران HSE

**هدف:** تشکیل و ثبت تیم‌های همیاران HSE

**بخش‌های فرم:**
- **اطلاعات کلی:**
  - پروژه: انتخاب از AS یا NP
  - تهیه‌کننده: "کارشناس HSE"
  - تصویب‌کننده: "مدیر پروژه"

- **اعضای تیم:**
  - نام پیمانکار: "نصب‌افزار جنوب"
  - نام واحد: "تولید"
  - نام بخش: "برش‌کاری"
  - نام نماینده: "علی رضایی"
  - امضا: امضای نماینده
  - شماره TBM: "TBM-1403-027"

**مثال عملی:**
- پروژه: AS
- تهیه‌کننده: "احمد محمدی - کارشناس HSE"
- تصویب‌کننده: "حسن رضایی - مدیر پروژه"
- اعضا: "3 نفر از بخش‌های مختلف"

### 6️⃣ FR-01-28: ارزیابی ریسک

**هدف:** ارزیابی و ثبت ریسک‌های ایمنی، بهداشتی و اموال

**بخش‌های فرم:**
- **اطلاعات پایه:**
  - پروژه: انتخاب از AS یا NP
  - واحد سازمانی: "واحد تولید"
  - بخش: "برش‌کاری"

- **شناسایی فرآیند:**
  - عنوان فرآیند: "برش کاری"
  - شرح فعالیت: "کار با سنگ فرز"
  - نوع فعالیت: R (روتین) یا N (غیرروتین)

- **شناسایی خطر:**
  - شرح خطر: "شکست دیسک سنگ فرز"
  - رویداد: "پرتاب قطعه"
  - پیامد: "آسیب به چشم"
  - علت ریشه‌ای: "گارد معیوب"
  - کنترل‌های موجود: "عینک ایمنی"

- **ارزیابی ریسک (اعداد 1-10):**
  - A (احتمال وقوع): 2
  - B (مدت زمان مواجهه): 3
  - C (تعداد افراد در معرض): 2
  - S (شدت پیامد): 8
  - D (احتمال تشخیص): 5

**محاسبات خودکار:**
- E = A × B × C = 2 × 3 × 2 = 12
- P = 4 (از جدول نقشه‌برداری)
- RPN = S × P × D = 8 × 4 × 5 = 160
- وضعیت پذیرش: غیرقابل قبول - بالا (چون RPN ≥ 100)

## 🔄 گردش کار سیستم

### مسیر اصلی:
```
اقدام اصلاحی (FR-01-01) → پیگیری اقدام (FR-01-02) → تغییرات (FR-01-03) یا ارزیابی ریسک (FR-01-28)
```

### مسیرهای جانبی:
- **TBM (FR-01-10):** مستقل - برای ثبت آموزش‌ها
- **تشکیل تیم (FR-01-12):** مستقل - برای تشکیل تیم‌های HSE

## 📊 گزارش‌گیری و پیگیری

### بخش "تکمیل شده":
- **اقدامات تکمیل شده:** لیست اقدامات انجام شده
- **ریسک‌های تکمیل شده:** لیست ریسک‌های ارزیابی شده
- امکان حذف نرم (soft delete) برای هر مورد

## 🛠 نکات مهم استفاده

### 1. ورود به سیستم:
- همیشه از اطلاعات ورود صحیح استفاده کنید
- در صورت فراموشی رمز، با مدیر سیستم تماس بگیرید

### 2. پر کردن فرم‌ها:
- فیلدهای قرمز رنگ الزامی هستند
- تاریخ‌ها را به فرمت شمسی وارد کنید
- اعداد را بدون کاما وارد کنید

### 3. ذخیره اطلاعات:
- همیشه قبل از بستن صفحه، دکمه "ثبت" را بزنید
- پیام موفقیت نشان‌دهنده ذخیره صحیح است

### 4. پیگیری:
- شماره‌های اقدام و ریسک را یادداشت کنید
- از بخش "تکمیل شده" برای مشاهده تاریخچه استفاده کنید

## 🔧 عیب‌یابی مشکلات رایج

### مشکل: "اتصال به سرور برقرار نشد"
**راه‌حل:** مطمئن شوید سرور Django در حال اجرا است

### مشکل: "CSRF token missing"
**راه‌حل:** صفحه را refresh کنید و دوباره تلاش کنید

### مشکل: "فیلد الزامی خالی است"
**راه‌حل:** همه فیلدهای قرمز رنگ را پر کنید

## 📞 پشتیبانی

در صورت بروز مشکل:
1. صفحه را refresh کنید
2. از مرورگر دیگری استفاده کنید
3. با تیم فنی تماس بگیرید

---

**نسخه:** 1.0  
**تاریخ:** 1403/01/01  
**تهیه‌کننده:** تیم توسعه HSE
