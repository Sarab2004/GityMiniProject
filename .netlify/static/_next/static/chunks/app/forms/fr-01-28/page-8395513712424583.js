(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{9127:function(e,t,l){Promise.resolve().then(l.bind(l,7390))},7390:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return i}});var r=l(7437),a=l(2265),n=l(3130),s=l(1919),c=l(3027),o=l(2015),d=l(3544);function i(){let[e,t]=(0,a.useState)({projectName:"",date:"",riskItems:[],reEvaluationItems:[]}),l=(e,l)=>{t(t=>({...t,[e]:l}))};return(0,r.jsxs)(n.l,{title:"شناسایی و ارزیابی ریسک‌های ایمنی، بهداشتی و اموال",onReset:()=>{t({projectName:"",date:"",riskItems:[],reEvaluationItems:[]})},children:[(0,r.jsx)(s.h,{title:"اطلاعات کلی",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(c.o,{label:"نام پروژه",placeholder:"نام پروژه",required:!0,value:e.projectName,onChange:e=>l("projectName",e)}),(0,r.jsx)(o.W,{label:"تاریخ",required:!0,value:e.date,onChange:e=>l("date",e)})]})}),(0,r.jsx)(s.h,{title:"ارزیابی ریسک",children:(0,r.jsx)(d.$,{label:"موارد ارزیابی ریسک",columns:[{key:"unit",label:"نام واحد/محل ارزیابی",type:"text"},{key:"process",label:"عنوان فرآیند",type:"text",placeholder:"مثال: برش‌کاری"},{key:"activity",label:"شرح فعالیت",type:"text",placeholder:"مثال: کار با سنگ‌فرز دستی"},{key:"routine",label:"روتین/غیرروتین",type:"text"},{key:"hazard",label:"شرح ریسک (Hazard)",type:"text"},{key:"event",label:"رویداد ریسک",type:"text"},{key:"consequence",label:"پیامد/اثرات ریسک",type:"text"},{key:"rootCause",label:"علت ریشه‌ای ریسک",type:"text"},{key:"existingControl",label:"کنترل موجود",type:"text"},{key:"legalRequirement",label:"الزام قانونی",type:"text"},{key:"legalStatus",label:"وضعیت الزام قانونی",type:"text"},{key:"riskType",label:"نوع ریسک",type:"text"},{key:"contactA",label:"A (آمار حوادث/سال)",type:"number",placeholder:"آمار حوادث/سال"},{key:"contactB",label:"B (تعداد افراد/تجهیزات)",type:"number",placeholder:"تعداد افراد/تجهیزات در معرض"},{key:"contactC",label:"C (مدت مواجهه)",type:"number",placeholder:"مدت مواجهه"},{key:"contactE",label:"E = A\xd7B\xd7C",type:"number",placeholder:"ورودی دستی در دمو"},{key:"severity",label:"شدت اثر (S)",type:"number",placeholder:"1-10"},{key:"probability",label:"احتمال وقوع (P)",type:"number",placeholder:"1-10"},{key:"detection",label:"احتمال کشف خطر (D)",type:"number",placeholder:"1-10"},{key:"rpn",label:"سطح ریسک (RPN = S\xd7P\xd7D)",type:"number",placeholder:"ورودی دستی"},{key:"acceptance",label:"وضعیت پذیرش",type:"text"},{key:"actionNumber",label:"شماره اقدام اصلاحی/پیشگیرانه/تغییرات",type:"text"}],value:e.riskItems,onChange:e=>l("riskItems",e)})}),(0,r.jsx)(s.h,{title:"کنترل و ارزیابی مجدد (پس از اقدام)",children:(0,r.jsx)(d.$,{label:"ارزیابی مجدد",columns:[{key:"contactA",label:"A (آمار حوادث/سال)",type:"number",placeholder:"آمار حوادث/سال"},{key:"contactB",label:"B (تعداد افراد/تجهیزات)",type:"number",placeholder:"تعداد افراد/تجهیزات در معرض"},{key:"contactC",label:"C (مدت مواجهه)",type:"number",placeholder:"مدت مواجهه"},{key:"contactE",label:"E = A\xd7B\xd7C",type:"number",placeholder:"ورودی دستی در دمو"},{key:"severity",label:"شدت اثر (S)",type:"number",placeholder:"1-10"},{key:"probability",label:"احتمال وقوع (P)",type:"number",placeholder:"1-10"},{key:"detection",label:"احتمال کشف خطر (D)",type:"number",placeholder:"1-10"},{key:"rpn",label:"سطح ریسک (RPN = S\xd7P\xd7D)",type:"number",placeholder:"ورودی دستی"},{key:"acceptance",label:"وضعیت پذیرش",type:"text"},{key:"actionNumber",label:"شماره اقدام",type:"text"}],value:e.reEvaluationItems,onChange:e=>l("reEvaluationItems",e)})})]})}},3544:function(e,t,l){"use strict";l.d(t,{$:function(){return c}});var r=l(7437),a=l(2265);let n=a.forwardRef(function({title:e,titleId:t,...l},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},l),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var s=l(7227);let c=e=>{let{label:t,columns:l,value:a=[],onChange:c,helper:o,className:d=""}=e,i=e=>{let t=a.filter((t,l)=>l!==e);null==c||c(t)},p=(e,t,l)=>{let r=[...a];r[e]={...r[e],[t]:l},null==c||c(r)};return(0,r.jsxs)("div",{className:"space-y-4 ".concat(d),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-text",children:t}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e={};l.forEach(t=>{e[t.key]=(t.type,"")}),null==c||c([...a,e])},className:"btn-secondary flex items-center space-x-2 space-x-reverse text-sm",children:[(0,r.jsx)(n,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"افزودن ردیف"})]})]}),a.length>0&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-border rounded-xl",children:[(0,r.jsx)("thead",{className:"bg-divider",children:(0,r.jsxs)("tr",{children:[l.map(e=>(0,r.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-text border-l border-border last:border-l-0",children:e.label},e.key)),(0,r.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-text border-l border-border",children:"عملیات"})]})}),(0,r.jsx)("tbody",{children:a.map((e,t)=>(0,r.jsxs)("tr",{className:"border-t border-border",children:[l.map(l=>(0,r.jsx)("td",{className:"px-4 py-3 border-l border-border last:border-l-0",children:"date"===l.type?(0,r.jsx)("input",{type:"date",value:e[l.key]||"",onChange:e=>p(t,l.key,e.target.value),className:"form-control w-full text-sm"}):"number"===l.type?(0,r.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:e[l.key]||"",onChange:e=>{let r=e.target.value;""!==r&&isNaN(Number(r))||p(t,l.key,r)},placeholder:l.placeholder,className:"form-control w-full text-sm"}):(0,r.jsx)("input",{type:"text",value:e[l.key]||"",onChange:e=>p(t,l.key,e.target.value),placeholder:l.placeholder,className:"form-control w-full text-sm"})},l.key)),(0,r.jsx)("td",{className:"px-4 py-3 text-center border-l border-border",children:(0,r.jsx)("button",{type:"button",onClick:()=>i(t),className:"text-danger hover:text-red-700 p-1",children:(0,r.jsx)(s.Z,{className:"h-4 w-4"})})})]},t))})]})}),0===a.length&&(0,r.jsx)("div",{className:"text-center py-8 text-muted",children:(0,r.jsx)("p",{children:'هیچ ردیفی اضافه نشده است. برای شروع روی "افزودن ردیف" کلیک کنید.'})}),o&&(0,r.jsx)("p",{className:"text-xs text-muted",children:o})]})}}},function(e){e.O(0,[250,81,971,938,744],function(){return e(e.s=9127)}),_N_E=e.O()}]);