(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{44:function(e,t,l){Promise.resolve().then(l.bind(l,2453))},2453:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return u}});var r=l(7437),s=l(2265),a=l(3130),n=l(1919),i=l(3027),c=l(2015),o=l(5753),d=l(3544);function u(){let[e,t]=(0,s.useState)({changeSubject:"",registrationDate:"",implementationDate:"",changeResponsible:"",requiredActions:[],fr0101Number:"",description:""}),l=(e,l)=>{t(t=>({...t,[e]:l}))};return(0,r.jsxs)(a.l,{title:"ثبت و پیگیری تغییرات",code:"FR-01-03-00",onReset:()=>{t({changeSubject:"",registrationDate:"",implementationDate:"",changeResponsible:"",requiredActions:[],fr0101Number:"",description:""})},children:[(0,r.jsx)(n.h,{title:"اطلاعات کلی",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(i.o,{label:"موضوع تغییر",placeholder:"مثال: جایگزینی حلال A با B",required:!0,value:e.changeSubject,onChange:e=>l("changeSubject",e)}),(0,r.jsx)(i.o,{label:"مسئول تغییر",placeholder:"نام و سمت مسئول",required:!0,value:e.changeResponsible,onChange:e=>l("changeResponsible",e)})]})}),(0,r.jsx)(n.h,{title:"تاریخ‌ها",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(c.W,{label:"تاریخ ثبت",required:!0,value:e.registrationDate,onChange:e=>l("registrationDate",e)}),(0,r.jsx)(c.W,{label:"تاریخ انجام تغییر",required:!0,value:e.implementationDate,onChange:e=>l("implementationDate",e)})]})}),(0,r.jsx)(n.h,{title:"اقدامات موردنیاز",children:(0,r.jsx)(d.$,{label:"اقدامات موردنیاز",columns:[{key:"action",label:"شرح اقدام",type:"text",placeholder:"شرح اقدام موردنیاز"},{key:"responsible",label:"مسئول",type:"text",placeholder:"نام و سمت"},{key:"deadline",label:"مهلت",type:"date"},{key:"status",label:"وضعیت",type:"text",placeholder:"انجام شده/در حال انجام/برنامه‌ریزی شده"}],value:e.requiredActions,onChange:e=>l("requiredActions",e)})}),(0,r.jsx)(n.h,{title:"ارتباط با فرم اقدام اصلاحی",children:(0,r.jsx)(i.o,{label:"شماره فرم اقدام اصلاحی و پیشگیرانه (FR‑01‑01)",placeholder:"مثال: FR-01-01-001",value:e.fr0101Number,onChange:e=>l("fr0101Number",e)})}),(0,r.jsx)(n.h,{title:"توضیحات",children:(0,r.jsx)(o.g,{label:"توضیحات",placeholder:"توضیحات تکمیلی در مورد تغییر",rows:4,value:e.description,onChange:e=>l("description",e)})})]})}},3544:function(e,t,l){"use strict";l.d(t,{$:function(){return i}});var r=l(7437),s=l(2265);let a=s.forwardRef(function({title:e,titleId:t,...l},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},l),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var n=l(7227);let i=e=>{let{label:t,columns:l,value:s=[],onChange:i,helper:c,className:o=""}=e,d=e=>{let t=s.filter((t,l)=>l!==e);null==i||i(t)},u=(e,t,l)=>{let r=[...s];r[e]={...r[e],[t]:l},null==i||i(r)};return(0,r.jsxs)("div",{className:"space-y-4 ".concat(o),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-text",children:t}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e={};l.forEach(t=>{e[t.key]=(t.type,"")}),null==i||i([...s,e])},className:"btn-secondary flex items-center space-x-2 space-x-reverse text-sm",children:[(0,r.jsx)(a,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"افزودن ردیف"})]})]}),s.length>0&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-border rounded-xl",children:[(0,r.jsx)("thead",{className:"bg-divider",children:(0,r.jsxs)("tr",{children:[l.map(e=>(0,r.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-text border-l border-border last:border-l-0",children:e.label},e.key)),(0,r.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-text border-l border-border",children:"عملیات"})]})}),(0,r.jsx)("tbody",{children:s.map((e,t)=>(0,r.jsxs)("tr",{className:"border-t border-border",children:[l.map(l=>(0,r.jsx)("td",{className:"px-4 py-3 border-l border-border last:border-l-0",children:"date"===l.type?(0,r.jsx)("input",{type:"date",value:e[l.key]||"",onChange:e=>u(t,l.key,e.target.value),className:"form-control w-full text-sm"}):"number"===l.type?(0,r.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:e[l.key]||"",onChange:e=>{let r=e.target.value;""!==r&&isNaN(Number(r))||u(t,l.key,r)},placeholder:l.placeholder,className:"form-control w-full text-sm"}):(0,r.jsx)("input",{type:"text",value:e[l.key]||"",onChange:e=>u(t,l.key,e.target.value),placeholder:l.placeholder,className:"form-control w-full text-sm"})},l.key)),(0,r.jsx)("td",{className:"px-4 py-3 text-center border-l border-border",children:(0,r.jsx)("button",{type:"button",onClick:()=>d(t),className:"text-danger hover:text-red-700 p-1",children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})})]},t))})]})}),0===s.length&&(0,r.jsx)("div",{className:"text-center py-8 text-muted",children:(0,r.jsx)("p",{children:'هیچ ردیفی اضافه نشده است. برای شروع روی "افزودن ردیف" کلیک کنید.'})}),c&&(0,r.jsx)("p",{className:"text-xs text-muted",children:c})]})}},5753:function(e,t,l){"use strict";l.d(t,{g:function(){return s}});var r=l(7437);l(2265);let s=e=>{let{label:t,placeholder:l,required:s=!1,value:a="",onChange:n,rows:i=4,helper:c,className:o=""}=e;return(0,r.jsxs)("div",{className:"space-y-2 ".concat(o),children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text",children:[t,s&&(0,r.jsx)("span",{className:"text-danger mr-1",children:"*"})]}),(0,r.jsx)("textarea",{value:a,onChange:e=>null==n?void 0:n(e.target.value),placeholder:l,rows:i,className:"form-control w-full resize-none",required:s}),c&&(0,r.jsx)("p",{className:"text-xs text-muted",children:c})]})}}},function(e){e.O(0,[250,81,971,938,744],function(){return e(e.s=44)}),_N_E=e.O()}]);