(()=>{var e={};e.id=717,e.ids=[717],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>i});var l=r(482),a=r(9108),s=r(2563),n=r.n(s),o=r(8300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let i=["",{children:["forms",{children:["fr-01-28",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1627)),"C:\\Mahdi\\WebProjects\\Gity\\app\\forms\\fr-01-28\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"C:\\Mahdi\\WebProjects\\Gity\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Mahdi\\WebProjects\\Gity\\app\\forms\\fr-01-28\\page.tsx"],p="/forms/fr-01-28/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forms/fr-01-28/page",pathname:"/forms/fr-01-28",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},904:(e,t,r)=>{Promise.resolve().then(r.bind(r,5502))},5502:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var l=r(2295),a=r(3729),s=r(1472),n=r(5118),o=r(6345),c=r(2115),i=r(8932);function d(){let[e,t]=(0,a.useState)({projectName:"",date:"",riskItems:[],reEvaluationItems:[]}),r=(e,r)=>{t(t=>({...t,[e]:r}))};return(0,l.jsxs)(s.l,{title:"شناسایی و ارزیابی ریسک‌های ایمنی، بهداشتی و اموال",onReset:()=>{t({projectName:"",date:"",riskItems:[],reEvaluationItems:[]})},children:[l.jsx(n.h,{title:"اطلاعات کلی",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(o.o,{label:"نام پروژه",placeholder:"نام پروژه",required:!0,value:e.projectName,onChange:e=>r("projectName",e)}),l.jsx(c.W,{label:"تاریخ",required:!0,value:e.date,onChange:e=>r("date",e)})]})}),l.jsx(n.h,{title:"ارزیابی ریسک",children:l.jsx(i.$,{label:"موارد ارزیابی ریسک",columns:[{key:"unit",label:"نام واحد/محل ارزیابی",type:"text"},{key:"process",label:"عنوان فرآیند",type:"text",placeholder:"مثال: برش‌کاری"},{key:"activity",label:"شرح فعالیت",type:"text",placeholder:"مثال: کار با سنگ‌فرز دستی"},{key:"routine",label:"روتین/غیرروتین",type:"text"},{key:"hazard",label:"شرح ریسک (Hazard)",type:"text"},{key:"event",label:"رویداد ریسک",type:"text"},{key:"consequence",label:"پیامد/اثرات ریسک",type:"text"},{key:"rootCause",label:"علت ریشه‌ای ریسک",type:"text"},{key:"existingControl",label:"کنترل موجود",type:"text"},{key:"legalRequirement",label:"الزام قانونی",type:"text"},{key:"legalStatus",label:"وضعیت الزام قانونی",type:"text"},{key:"riskType",label:"نوع ریسک",type:"text"},{key:"contactA",label:"A (آمار حوادث/سال)",type:"number",placeholder:"آمار حوادث/سال"},{key:"contactB",label:"B (تعداد افراد/تجهیزات)",type:"number",placeholder:"تعداد افراد/تجهیزات در معرض"},{key:"contactC",label:"C (مدت مواجهه)",type:"number",placeholder:"مدت مواجهه"},{key:"contactE",label:"E = A\xd7B\xd7C",type:"number",placeholder:"ورودی دستی در دمو"},{key:"severity",label:"شدت اثر (S)",type:"number",placeholder:"1-10"},{key:"probability",label:"احتمال وقوع (P)",type:"number",placeholder:"1-10"},{key:"detection",label:"احتمال کشف خطر (D)",type:"number",placeholder:"1-10"},{key:"rpn",label:"سطح ریسک (RPN = S\xd7P\xd7D)",type:"number",placeholder:"ورودی دستی"},{key:"acceptance",label:"وضعیت پذیرش",type:"text"},{key:"actionNumber",label:"شماره اقدام اصلاحی/پیشگیرانه/تغییرات",type:"text"}],value:e.riskItems,onChange:e=>r("riskItems",e)})}),l.jsx(n.h,{title:"کنترل و ارزیابی مجدد (پس از اقدام)",children:l.jsx(i.$,{label:"ارزیابی مجدد",columns:[{key:"contactA",label:"A (آمار حوادث/سال)",type:"number",placeholder:"آمار حوادث/سال"},{key:"contactB",label:"B (تعداد افراد/تجهیزات)",type:"number",placeholder:"تعداد افراد/تجهیزات در معرض"},{key:"contactC",label:"C (مدت مواجهه)",type:"number",placeholder:"مدت مواجهه"},{key:"contactE",label:"E = A\xd7B\xd7C",type:"number",placeholder:"ورودی دستی در دمو"},{key:"severity",label:"شدت اثر (S)",type:"number",placeholder:"1-10"},{key:"probability",label:"احتمال وقوع (P)",type:"number",placeholder:"1-10"},{key:"detection",label:"احتمال کشف خطر (D)",type:"number",placeholder:"1-10"},{key:"rpn",label:"سطح ریسک (RPN = S\xd7P\xd7D)",type:"number",placeholder:"ورودی دستی"},{key:"acceptance",label:"وضعیت پذیرش",type:"text"},{key:"actionNumber",label:"شماره اقدام",type:"text"}],value:e.reEvaluationItems,onChange:e=>r("reEvaluationItems",e)})})]})}},8932:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var l=r(2295),a=r(3729);let s=a.forwardRef(function({title:e,titleId:t,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var n=r(3594);let o=({label:e,columns:t,value:r=[],onChange:a,helper:o,className:c=""})=>{let i=e=>{let t=r.filter((t,r)=>r!==e);a?.(t)},d=(e,t,l)=>{let s=[...r];s[e]={...s[e],[t]:l},a?.(s)};return(0,l.jsxs)("div",{className:`space-y-4 ${c}`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-text",children:e}),(0,l.jsxs)("button",{type:"button",onClick:()=>{let e={};t.forEach(t=>{e[t.key]=(t.type,"")}),a?.([...r,e])},className:"btn-secondary flex items-center space-x-2 space-x-reverse text-sm",children:[l.jsx(s,{className:"h-4 w-4"}),l.jsx("span",{children:"افزودن ردیف"})]})]}),r.length>0&&l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full border border-border rounded-xl",children:[l.jsx("thead",{className:"bg-divider",children:(0,l.jsxs)("tr",{children:[t.map(e=>l.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-text border-l border-border last:border-l-0",children:e.label},e.key)),l.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-text border-l border-border",children:"عملیات"})]})}),l.jsx("tbody",{children:r.map((e,r)=>(0,l.jsxs)("tr",{className:"border-t border-border",children:[t.map(t=>l.jsx("td",{className:"px-4 py-3 border-l border-border last:border-l-0",children:"date"===t.type?l.jsx("input",{type:"date",value:e[t.key]||"",onChange:e=>d(r,t.key,e.target.value),className:"form-control w-full text-sm"}):"number"===t.type?l.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:e[t.key]||"",onChange:e=>{let l=e.target.value;""!==l&&isNaN(Number(l))||d(r,t.key,l)},placeholder:t.placeholder,className:"form-control w-full text-sm"}):l.jsx("input",{type:"text",value:e[t.key]||"",onChange:e=>d(r,t.key,e.target.value),placeholder:t.placeholder,className:"form-control w-full text-sm"})},t.key)),l.jsx("td",{className:"px-4 py-3 text-center border-l border-border",children:l.jsx("button",{type:"button",onClick:()=>i(r),className:"text-danger hover:text-red-700 p-1",children:l.jsx(n.Z,{className:"h-4 w-4"})})})]},r))})]})}),0===r.length&&l.jsx("div",{className:"text-center py-8 text-muted",children:l.jsx("p",{children:'هیچ ردیفی اضافه نشده است. برای شروع روی "افزودن ردیف" کلیک کنید.'})}),o&&l.jsx("p",{className:"text-xs text-muted",children:o})]})}},1627:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>n});let l=(0,r(6843).createProxy)(String.raw`C:\Mahdi\WebProjects\Gity\app\forms\fr-01-28\page.tsx`),{__esModule:a,$$typeof:s}=l,n=l.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),l=t.X(0,[73,476,961],()=>r(611));module.exports=l})();