(()=>{var e={};e.id=84,e.ids=[84],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),l=s(2563),n=s.n(l),o=s(8300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["forms",{children:["fr-01-01",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,311)),"C:\\Mahdi\\WebProjects\\Gity\\app\\forms\\fr-01-01\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Mahdi\\WebProjects\\Gity\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Mahdi\\WebProjects\\Gity\\app\\forms\\fr-01-01\\page.tsx"],p="/forms/fr-01-01/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forms/fr-01-01/page",pathname:"/forms/fr-01-01",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7994:(e,t,s)=>{Promise.resolve().then(s.bind(s,9554))},9554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(2295),a=s(3729),l=s(1472),n=s(5118),o=s(6345),i=s(2115),c=s(1276);let d=({label:e,options:t,required:s=!1,value:a=[],onChange:l,helper:n,className:o=""})=>{let i=(e,t)=>{t?l?.([...a,e]):l?.(a.filter(t=>t!==e))};return(0,r.jsxs)("div",{className:`space-y-3 ${o}`,children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text",children:[e,s&&r.jsx("span",{className:"text-danger mr-1",children:"*"})]}),r.jsx("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 space-x-reverse cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.includes(e.value),onChange:t=>i(e.value,t.target.checked),className:"h-4 w-4 text-accent border-border rounded focus:ring-focus"}),r.jsx("span",{className:"text-sm text-text",children:e.label})]},e.value))}),n&&r.jsx("p",{className:"text-xs text-muted",children:n})]})};var p=s(1430),u=s(8932);function x(){let[e,t]=(0,a.useState)({requesterName:"",requesterUnit:"",actionNumber:"",date:"",requestType:"",actionSource:[],nonConformityDescription:"",rootCauseObjective:"",riskAssessmentUpdate:"",riskAssessmentDate:"",newKnowledgeExperience:"",requiredActions:[],responsibleApproval:"",managerApproval:"",affectedDocuments:[],firstReportStatus:"",firstReportDate:"",firstReportDescription:"",firstReportResponsibleSignature:"",firstReportApproverSignature:"",secondReportStatus:"",secondReportDate:"",secondReportDescription:"",secondReportResponsibleSignature:"",secondReportApproverSignature:"",effectivenessDate:"",effectivenessMethod:"",effectivenessStatus:"",newActionNumber:"",effectivenessReviewer:"",effectivenessSignature:""}),s=[{value:"approved",label:"مورد تأیید هستند"},{value:"not_approved",label:"مورد تأیید نیستند"}],x=(e,s)=>{t(t=>({...t,[e]:s}))};return(0,r.jsxs)(l.l,{title:"اقدام اصلاحی/پیشگیرانه/تغییرات",code:"FR-01-01-00",onReset:()=>{t({requesterName:"",requesterUnit:"",actionNumber:"",date:"",requestType:"",actionSource:[],nonConformityDescription:"",rootCauseObjective:"",riskAssessmentUpdate:"",riskAssessmentDate:"",newKnowledgeExperience:"",requiredActions:[],responsibleApproval:"",managerApproval:"",affectedDocuments:[],firstReportStatus:"",firstReportDate:"",firstReportDescription:"",firstReportResponsibleSignature:"",firstReportApproverSignature:"",secondReportStatus:"",secondReportDate:"",secondReportDescription:"",secondReportResponsibleSignature:"",secondReportApproverSignature:"",effectivenessDate:"",effectivenessMethod:"",effectivenessStatus:"",newActionNumber:"",effectivenessReviewer:"",effectivenessSignature:""})},children:[r.jsx(n.h,{title:"اطلاعات کلی",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(o.o,{label:"نام درخواست‌کننده",placeholder:"مثال: علی رضایی",required:!0,value:e.requesterName,onChange:e=>x("requesterName",e)}),r.jsx(o.o,{label:"واحد درخواست‌کننده",placeholder:"مثال: تولید/برش",required:!0,value:e.requesterUnit,onChange:e=>x("requesterUnit",e)}),r.jsx(o.o,{label:"شماره اقدام",placeholder:"مثال: NP-03-001",required:!0,value:e.actionNumber,onChange:e=>x("actionNumber",e)}),r.jsx(i.W,{label:"تاریخ",required:!0,value:e.date,onChange:e=>x("date",e)})]})}),r.jsx(n.h,{title:"نوع درخواست",children:r.jsx(c.E,{label:"نوع درخواست",options:[{value:"corrective",label:"اقدام اصلاحی"},{value:"preventive",label:"اقدام پیشگیرانه"},{value:"change",label:"تغییرات"},{value:"improvement",label:"پیشنهاد بهبود"}],required:!0,value:e.requestType,onChange:e=>x("requestType",e)})}),r.jsx(n.h,{title:"منشأ اقدام",children:r.jsx(d,{label:"منشأ اقدام",options:[{value:"audit",label:"ممیزی"},{value:"compliance",label:"انطباق با قوانین"},{value:"process_risks",label:"ریسک‌ها و فرصت‌های فرآیندی"},{value:"incidents",label:"حوادث"},{value:"near_misses",label:"شبه‌حوادث"},{value:"unsafe_conditions",label:"شرایط ناایمن"},{value:"unsafe_acts",label:"اعمال ناایمن"},{value:"checklist",label:"چک‌لیست"},{value:"safety_risks",label:"ریسک‌های ایمنی/بهداشتی/اموال"},{value:"environmental",label:"جنبه‌های زیست‌محیطی"},{value:"management_review",label:"بازنگری مدیریت"},{value:"other",label:"سایر"}],required:!0,value:e.actionSource,onChange:e=>x("actionSource",e)})}),r.jsx(n.h,{title:"شرح عدم‌انطباق/درخواست تغییر",children:r.jsx(p.g,{label:"شرح عدم‌انطباق/درخواست تغییر",placeholder:"چه مشکلی دیدید/چه تغییری می‌خواهید؟",required:!0,value:e.nonConformityDescription,onChange:e=>x("nonConformityDescription",e)})}),r.jsx(n.h,{title:"ریشه‌یابی/هدف تغییر",children:r.jsx(p.g,{label:"ریشه‌یابی/هدف تغییر",placeholder:"علت اصلی یا هدف دقیق چیست؟",required:!0,value:e.rootCauseObjective,onChange:e=>x("rootCauseObjective",e)})}),r.jsx(n.h,{title:"بروزرسانی ارزیابی ریسک/جنبه",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(c.E,{label:"نیاز به به‌روزرسانی ارزیابی ریسک/جنبه",options:[{value:"has",label:"دارد"},{value:"not",label:"ندارد"}],required:!0,value:e.riskAssessmentUpdate,onChange:e=>x("riskAssessmentUpdate",e)}),"has"===e.riskAssessmentUpdate&&r.jsx(i.W,{label:"تاریخ بروزرسانی",required:!0,value:e.riskAssessmentDate,onChange:e=>x("riskAssessmentDate",e)})]})}),r.jsx(n.h,{title:"ایجاد دانش یا تجربه جدید",children:r.jsx(c.E,{label:"ایجاد دانش یا تجربه جدید؟",options:[{value:"yes",label:"بله"},{value:"no",label:"خیر"}],required:!0,value:e.newKnowledgeExperience,onChange:e=>x("newKnowledgeExperience",e)})}),r.jsx(n.h,{title:"اقدامات و منابع موردنیاز",children:r.jsx(u.$,{label:"اقدامات و منابع موردنیاز",columns:[{key:"action",label:"شرح اقدام",type:"text",placeholder:"مثال: نصب گارد"},{key:"resources",label:"منابع موردنیاز",type:"text",placeholder:"مثال: جوشکار، آهن‌آلات"},{key:"deadline",label:"مهلت انجام",type:"date"},{key:"responsible",label:"مسئول انجام",type:"text",placeholder:"نام و سمت"}],value:e.requiredActions,onChange:e=>x("requiredActions",e)})}),r.jsx(n.h,{title:"تأییدات",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(o.o,{label:"تأیید مسئول/مسئولین انجام",value:e.responsibleApproval,onChange:e=>x("responsibleApproval",e)}),r.jsx(o.o,{label:"تأیید مدیر پروژه/سرپرست کارگاه/سرپرست HSE",value:e.managerApproval,onChange:e=>x("managerApproval",e)})]})}),r.jsx(n.h,{title:"مستندات متاثر از تغییر",children:r.jsx(u.$,{label:"مستندات متاثر از تغییر",columns:[{key:"title",label:"عنوان سند",type:"text"},{key:"code",label:"کد سند",type:"text"}],value:e.affectedDocuments,onChange:e=>x("affectedDocuments",e)})}),r.jsx(n.h,{title:"گزارش انجام اقدامات (مرتبه اول)",children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(c.E,{label:"وضعیت اقدامات",options:s,required:!0,value:e.firstReportStatus,onChange:e=>x("firstReportStatus",e)}),"not_approved"===e.firstReportStatus&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(i.W,{label:"تاریخ توافق‌شده مجدد",value:e.firstReportDate,onChange:e=>x("firstReportDate",e)}),r.jsx(p.g,{label:"شرح اقدامات توافق‌شده مجدد",value:e.firstReportDescription,onChange:e=>x("firstReportDescription",e)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(o.o,{label:"امضای مسئول انجام",value:e.firstReportResponsibleSignature,onChange:e=>x("firstReportResponsibleSignature",e)}),r.jsx(i.W,{label:"تاریخ",value:e.firstReportDate,onChange:e=>x("firstReportDate",e)}),r.jsx(o.o,{label:"امضای تایید کننده",value:e.firstReportApproverSignature,onChange:e=>x("firstReportApproverSignature",e)})]})]})}),r.jsx(n.h,{title:"گزارش دوم (در صورت نیاز)",children:(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(c.E,{label:"وضعیت اقدامات",options:s,value:e.secondReportStatus,onChange:e=>x("secondReportStatus",e)}),"not_approved"===e.secondReportStatus&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(i.W,{label:"تاریخ توافق‌شده مجدد",value:e.secondReportDate,onChange:e=>x("secondReportDate",e)}),r.jsx(p.g,{label:"شرح اقدامات توافق‌شده مجدد",value:e.secondReportDescription,onChange:e=>x("secondReportDescription",e)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(o.o,{label:"امضای مسئول انجام",value:e.secondReportResponsibleSignature,onChange:e=>x("secondReportResponsibleSignature",e)}),r.jsx(i.W,{label:"تاریخ",value:e.secondReportDate,onChange:e=>x("secondReportDate",e)}),r.jsx(o.o,{label:"امضای تایید کننده",value:e.secondReportApproverSignature,onChange:e=>x("secondReportApproverSignature",e)})]})]})}),r.jsx(n.h,{title:"بررسی اثربخشی",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(i.W,{label:"تاریخ بررسی",value:e.effectivenessDate,onChange:e=>x("effectivenessDate",e)}),r.jsx(o.o,{label:"نحوه بررسی",value:e.effectivenessMethod,onChange:e=>x("effectivenessMethod",e)})]}),r.jsx(c.E,{label:"وضعیت اثربخشی",options:[{value:"effective",label:"اثربخش هستند"},{value:"not_effective",label:"اثربخش نیستند"}],required:!0,value:e.effectivenessStatus,onChange:e=>x("effectivenessStatus",e)}),"not_effective"===e.effectivenessStatus&&r.jsx(o.o,{label:"شماره اقدام جدید",value:e.newActionNumber,onChange:e=>x("newActionNumber",e)}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(o.o,{label:"نام بررسی‌کننده",value:e.effectivenessReviewer,onChange:e=>x("effectivenessReviewer",e)}),r.jsx(i.W,{label:"تاریخ",value:e.effectivenessDate,onChange:e=>x("effectivenessDate",e)}),r.jsx(o.o,{label:"امضاء",value:e.effectivenessSignature,onChange:e=>x("effectivenessSignature",e)})]})]})})]})}},1276:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(2295);s(3729);let a=({label:e,options:t,required:s=!1,value:a="",onChange:l,helper:n,className:o=""})=>(0,r.jsxs)("div",{className:`space-y-3 ${o}`,children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text",children:[e,s&&r.jsx("span",{className:"text-danger mr-1",children:"*"})]}),r.jsx("div",{className:"space-y-2",children:t.map(t=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 space-x-reverse cursor-pointer",children:[r.jsx("input",{type:"radio",name:e,value:t.value,checked:a===t.value,onChange:e=>l?.(e.target.value),className:"h-4 w-4 text-accent border-border focus:ring-focus",required:s}),r.jsx("span",{className:"text-sm text-text",children:t.label})]},t.value))}),n&&r.jsx("p",{className:"text-xs text-muted",children:n})]})},8932:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(2295),a=s(3729);let l=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var n=s(3594);let o=({label:e,columns:t,value:s=[],onChange:a,helper:o,className:i=""})=>{let c=e=>{let t=s.filter((t,s)=>s!==e);a?.(t)},d=(e,t,r)=>{let l=[...s];l[e]={...l[e],[t]:r},a?.(l)};return(0,r.jsxs)("div",{className:`space-y-4 ${i}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-text",children:e}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e={};t.forEach(t=>{e[t.key]=(t.type,"")}),a?.([...s,e])},className:"btn-secondary flex items-center space-x-2 space-x-reverse text-sm",children:[r.jsx(l,{className:"h-4 w-4"}),r.jsx("span",{children:"افزودن ردیف"})]})]}),s.length>0&&r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-border rounded-xl",children:[r.jsx("thead",{className:"bg-divider",children:(0,r.jsxs)("tr",{children:[t.map(e=>r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-text border-l border-border last:border-l-0",children:e.label},e.key)),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-text border-l border-border",children:"عملیات"})]})}),r.jsx("tbody",{children:s.map((e,s)=>(0,r.jsxs)("tr",{className:"border-t border-border",children:[t.map(t=>r.jsx("td",{className:"px-4 py-3 border-l border-border last:border-l-0",children:"date"===t.type?r.jsx("input",{type:"date",value:e[t.key]||"",onChange:e=>d(s,t.key,e.target.value),className:"form-control w-full text-sm"}):"number"===t.type?r.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:e[t.key]||"",onChange:e=>{let r=e.target.value;""!==r&&isNaN(Number(r))||d(s,t.key,r)},placeholder:t.placeholder,className:"form-control w-full text-sm"}):r.jsx("input",{type:"text",value:e[t.key]||"",onChange:e=>d(s,t.key,e.target.value),placeholder:t.placeholder,className:"form-control w-full text-sm"})},t.key)),r.jsx("td",{className:"px-4 py-3 text-center border-l border-border",children:r.jsx("button",{type:"button",onClick:()=>c(s),className:"text-danger hover:text-red-700 p-1",children:r.jsx(n.Z,{className:"h-4 w-4"})})})]},s))})]})}),0===s.length&&r.jsx("div",{className:"text-center py-8 text-muted",children:r.jsx("p",{children:'هیچ ردیفی اضافه نشده است. برای شروع روی "افزودن ردیف" کلیک کنید.'})}),o&&r.jsx("p",{className:"text-xs text-muted",children:o})]})}},1430:(e,t,s)=>{"use strict";s.d(t,{g:()=>a});var r=s(2295);s(3729);let a=({label:e,placeholder:t,required:s=!1,value:a="",onChange:l,rows:n=4,helper:o,className:i=""})=>(0,r.jsxs)("div",{className:`space-y-2 ${i}`,children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text",children:[e,s&&r.jsx("span",{className:"text-danger mr-1",children:"*"})]}),r.jsx("textarea",{value:a,onChange:e=>l?.(e.target.value),placeholder:t,rows:n,className:"form-control w-full resize-none",required:s}),o&&r.jsx("p",{className:"text-xs text-muted",children:o})]})},311:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\Mahdi\WebProjects\Gity\app\forms\fr-01-01\page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[73,476,961],()=>s(347));module.exports=r})();